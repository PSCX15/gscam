<launch>
	
  <arg name="DEVICE" default="/dev/video0"/>
  <!-- The GStreamer framerate needs to be an integral fraction -->
  <arg name="FPS" default="5/1"/>
  <arg name="PUBLISH_FRAME" default="false"/>
  <arg name="WIDTH" default="320"/>
  <arg name="HEIGHT" default="240"/>
	
<node ns="stereo" name="right" pkg="gscam" type="gscam" output="screen">
    <param name="camera_name" value="default"/>
    <param name="camera_info_url" value="package://gscam/examples/uncalibrated_parameters.ini"/>
    <param name="gscam_config" value="v4l2src device=$(arg DEVICE) ! video/x-raw-rgb,framerate=$(arg FPS) ! ffmpegcolorspace"/>
    <param name="frame_id" value="/v4l_frame"/>
    <param name="sync_sink" value="true"/>
</node>

<node ns="stereo" name="left" pkg="gscam" type="gscam" output="screen">
    <param name="camera_name" value="default"/>
    <param name="camera_info_url" value="package://gscam/examples/uncalibrated_parameters.ini"/>
    <param name="gscam_config" value="v4l2src device=$(arg DEVICE) ! video/x-raw-rgb,framerate=$(arg FPS) ! ffmpegcolorspace"/>
    <param name="frame_id" value="/v4l_frame"/>
    <param name="sync_sink" value="true"/>

<!--  <node name="left" pkg="usb_cam" type="usb_cam_node" ns="stereo" respawn="true">
	<param name="video_device" type="str" value="/dev/video0" />
	<param name="image_width" type="int" value="320" />
	<param name="image_height" type="int" value="240" />
	<param name="pixel_format" type="str" value="yuyv" />
	<param name="framerate" type="int" value="5" />
        <param name="camera_info_url" type="str" value="package://usb_cam/320x240/calib/left-ost.yaml" />
  </node>
  <node name="right" pkg="usb_cam" type="usb_cam_node" ns="stereo" respawn="true">
	<param name="video_device" type="str" value="/dev/video1" />
	<param name="image_width" type="int" value="320" />
	<param name="image_height" type="int" value="240" />
	<param name="pixel_format" type="str" value="yuyv" />
	<param name="framerate" type="int" value="5" />
    <param name="camera_info_url" type="str" value="package://usb_cam/320x240/calib/right-ost.yaml" />
  </node> -->
</launch>
